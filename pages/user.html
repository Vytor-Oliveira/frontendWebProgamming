<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PuffWear - Home</title>
    <link rel="stylesheet" href="../css/user.css" />
    <link rel="stylesheet" href="../css/menu.css">
  </head>

  <body>
    <div id="navbar-placeholder"></div>

    <div class="container">
      <h2>Tela de Usuário</h2>

      <form>
        <label for="name">Nome</label>
        <input type="text" id="name" placeholder="Digite seu nome" />

        <label for="password">Nova Senha</label>
        <input type="password" id="password" placeholder="Digite nova senha" />

        <label for="confirm-password">Confirmar Senha</label>
        <input
          type="password"
          id="confirm-password"
          placeholder="Confirme a senha"
        />

        <button class="save-btn save-button" type="submit" class="btn">Salvar Alterações</button>
      </form>

      <div class="delete-account" onclick="confirmDelete()">Apagar conta</div>
    </div>

    <script src="../js/utils.js"></script>
    <script src="../js/loadNavbar.js"></script>
    <script>
      const token = localStorage.getItem("token");
      if (!token) {
        window.location.href = "../pages/login.html";
      } else {
        const user = parseJwt(token);
        const isAdminPage = window.location.pathname.includes("admin");

        if (isAdminPage && !user.is_admin) {
          alert("Acesso restrito a administradores.");
          window.location.href = "../pages/login.html";
        }
      }
      function confirmDelete() {
        if (
          confirm(
            "Tem certeza que deseja apagar sua conta? Essa ação não poderá ser desfeita."
          )
        ) {
          alert("Conta apagada com sucesso (simulação).");
        }
      }
    </script>
    
    <footer>
      <p>&copy; 2025 Puff Wear. Todos os direitos reservados.</p>
    </footer>
  </body>
</html>
